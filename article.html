<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<title>Stellaris WIKI - 管理阵列网站</title>
<link rel="stylesheet" type="text/css" href="css/style.css" />
<link rel="stylesheet" type="text/css" href="css/common.css">
<link rel="stylesheet" type="text/css" href="css/animate.min.css">
</head>
	
<body id="bg">
<div class="index-header clearfix">
	<div class="index- fl">
		<a href=""></a>
	</div>
	<ul class="index-nav fl">
		<li><a href="index.html">首页</a></li>
		
		<li><a href="products.html">产品中心</a></li>
		
		<li><a href="wiki.html">WIKI</a></li>
	</ul>
	<div class="index-header-right fr">
		<a href="" class="search-btn">搜索</a>	
		<a href="" class="erweima">
			<div class="erweima-pic">
				<img src="images/pic1.jpg" alt="">
			</div>
		</a>
	</div>
	<div class="clear"></div>
</div>
	
<div class="search_sec">
	<a href="#" title="" class="close-search"><i class=" la-close"><img src="images/icon5.png" alt=""></i></a>
	<div class="search_field">
		<div class="container">
			<form>
				<label>
					<input type="text" name="search" placeholder="Search for...">
				</label>
				<button type="submit"><img src="images/search2.png" alt=""></button>
			</form>
		</div>
	</div>
</div>	
<!--search_sec end--> <script type="text/javascript" src="http://www.5imoban.net/download/jquery/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="js/main.js"></script>
<script type='text/javascript' src='js/base.js'></script>
<script type="text/javascript" src='js/app.js'></script>
<script src="js/more.js"></script>
<script>
scrolly.init({
	wrapper: '#bloc',
	targets: '.scr-el',
	bgParallax: true,
	wrapperSpeed: 0.08
});
</script>
<div class="article">
	<h1>
		标题
	</h1>
	<br>
	<h2>
		副标题
	</h2>
	<hr>
	<p>
		正文内容
	</p>
	<p>
		for (int i = 0; i < 3; ++i)
		{
		for (int j = 0; j < 9; ++j)
		{
		this.addSlotToContainer(new Slot(playerInventory, j + i * 9 + 9, 8 + j * 18, 84 + i * 18));
		}
		}

		for (int k = 0; k < 9; ++k)
		{
		this.addSlotToContainer(new Slot(playerInventory, k, 8 + k * 18, 142));
		}
		}

		public void onCraftMatrixChanged(IInventory inventoryIn)
		{
		super.onCraftMatrixChanged(inventoryIn);

		if (inventoryIn == this.inputSlots)
		{
		this.updateRepairOutput();
		}
		}

		public void updateRepairOutput() {
		Item item1 = getSlot(1).getStack().getItem();
		Item item2 = getSlot(0).getStack().getItem();
		ItemStack stack1 = getSlot(1).getStack();
		ItemStack stack2 = getSlot(0).getStack();

		Map<Enchantment, Integer> map1 = EnchantmentHelper.getEnchantments(stack2);
		if(SmithingType.NETHERITE.getItemMap() == null) {
		return;
		}
		if(SmithingType.NETHERITE.getSmithingItem().equals(item1)){
		for(Map.Entry<Item, Item> entry: SmithingType.NETHERITE.getItemMap().entrySet()) {
		ItemStack outputValue = new ItemStack(entry.getValue());
		if (entry.getKey().equals(item2) && SmithingType.NETHERITE.getSmithingItem().equals(item1)) {
		getSlot(2).putStack(outputValue);
		}
		if (entry.getKey().equals(item2) && item2.isEnchantable(stack2)) {
		for (Map.Entry<Enchantment, Integer> entryEnchantment : map1.entrySet()) {
		getSlot(2).putStack(outputValue);
		outputValue.addEnchantment(entryEnchantment.getKey(), entryEnchantment.getValue());
		}
		}
		}
		}
		if (stack1.isEmpty() || stack2.isEmpty()) {
		getSlot(2).putStack(ItemStack.EMPTY);
		}
		if(SmithingType.CUSTOM.getSmithingItem() == null || SmithingType.CUSTOM.getItemMap() == null) {
		return;
		}
		if (SmithingType.CUSTOM.getSmithingItem().equals(item1))
		for (Map.Entry<Item, Item> entry : SmithingType.CUSTOM.getItemMap().entrySet()){
		ItemStack outputValue = new ItemStack(entry.getValue());
		if (entry.getKey().equals(item2) && SmithingType.CUSTOM.getSmithingItem().equals(item1)) {
		getSlot(2).putStack(outputValue);
		}
		if (entry.getKey().equals(item2) && item2.isEnchantable(stack2)) {
		for(Map.Entry<Enchantment, Integer> entryEnchantment: map1.entrySet()) {
		getSlot(2).putStack(outputValue);
		outputValue.addEnchantment(entryEnchantment.getKey(), entryEnchantment.getValue());
		}
		}
		}
		}

		public void addListener(IContainerListener listener)
		{
		super.addListener(listener);
		listener.sendWindowProperty(this, 0, this.maximumCost);
		}

		@SideOnly(Side.CLIENT)
		public void updateProgressBar(int id, int data)
		{
		if (id == 0)
		{
		this.maximumCost = data;
		}
		}

		public void onContainerClosed(EntityPlayer playerIn)
		{
		super.onContainerClosed(playerIn);

		if (!this.world.isRemote)
		{
		this.clearContainer(playerIn, this.world, this.inputSlots);
		}
		}

		public boolean canInteractWith(EntityPlayer playerIn)
		{
		return playerIn.getDistanceSq((double)this.selfPosition.getX() + 0.5D, (double)this.selfPosition.getY() + 0.5D, (double)this.selfPosition.getZ() + 0.5D) <= 64.0D;
		}

		public ItemStack transferStackInSlot(EntityPlayer playerIn, int index)
		{
		ItemStack itemstack = ItemStack.EMPTY;
		Slot slot = this.inventorySlots.get(index);

		if (slot != null && slot.getHasStack())
		{
		ItemStack itemstack1 = slot.getStack();
		itemstack = itemstack1.copy();

		if (index == 2)
		{
		if (!this.mergeItemStack(itemstack1, 3, 39, true))
		{
		return ItemStack.EMPTY;
		}

		slot.onSlotChange(itemstack1, itemstack);
		}
		else if (index != 0 && index != 1)
		{
		if (index < 39 && !this.mergeItemStack(itemstack1, 0, 2, false))
		{
		return ItemStack.EMPTY;
		}
		}
		else if (!this.mergeItemStack(itemstack1, 3, 39, false))
		{
		return ItemStack.EMPTY;
		}

		if (itemstack1.isEmpty())
		{
		slot.putStack(ItemStack.EMPTY);
		}
		else
		{
		slot.onSlotChanged();
		}

		if (itemstack1.getCount() == itemstack.getCount())
		{
		return ItemStack.EMPTY;
		}

		slot.onTake(playerIn, itemstack1);
		}

		return itemstack;
		}
		public void updateItemName(String newName)
		{

		if (this.getSlot(2).getHasStack())
		{
		ItemStack itemstack = this.getSlot(2).getStack();

		if (StringUtils.isBlank(newName))
		{
		itemstack.clearCustomName();
		}
		else
		{
		itemstack.setStackDisplayName(newName);
		}
		}

		this.updateRepairOutput();
		}
		public enum SmithingType {
		NETHERITE(netheriteMap(), ModItems.NETHERITE_INGOT),
		CUSTOM(getSwitchMap(), getCustomSmithingItem());

		private final Map<Map<Item, Item>, Item> totalMap;
		private final Item smithingItem;
		private static String customName;
		private static Map<Item, Item> switchMap;
		private static Item customSmithingItem;
		private static final Map<String, SmithingType> nameMap = new HashMap<>();

		SmithingType(Map<Item, Item> switchMap, Item smithingItem){
		Map<Map<Item, Item>, Item> totalMap = new HashMap<>();
		totalMap.put(switchMap, smithingItem);
		this.totalMap = totalMap;
		this.smithingItem = smithingItem;
		}

		public Map<Map<Item, Item>, Item> getTotalMap() {
		return totalMap;
		}

		@Nullable
		public Map<Item, Item> getItemMap(){
		for(Map.Entry<Map<Item, Item>, Item> entry: getTotalMap().entrySet()){
		return entry.getKey();
		}
		return null;
		}

		public static SmithingType addCustomType(String customName, Map<Item, Item> switchMap, Item customSmithingItem){
		SmithingType.customName = customName;
		SmithingType.switchMap = switchMap;
		SmithingType.customSmithingItem = customSmithingItem;
		nameMap.put(customName, CUSTOM);
		return CUSTOM;
		}

		private static Map<Item, Item> netheriteMap(){
		Map<Item, Item> netheriteMap = new HashMap<>();
		netheriteMap.put(Items.DIAMOND_SWORD, ModItems.NETHERITE_SWORD);
		netheriteMap.put(Items.DIAMOND_PICKAXE, ModItems.NETHERITE_PICKAXE);
		netheriteMap.put(Items.DIAMOND_AXE, ModItems.NETHERITE_AXE);
		netheriteMap.put(Items.DIAMOND_SHOVEL, ModItems.NETHERITE_SHOVEL);
		netheriteMap.put(Items.DIAMOND_HOE, ModItems.NETHERITE_HOE);
		netheriteMap.put(Items.DIAMOND_HELMET, ModItems.NETHERITE_HELMET);
		netheriteMap.put(Items.DIAMOND_CHESTPLATE, ModItems.NETHERITE_CHESTPLATE);
		netheriteMap.put(Items.DIAMOND_LEGGINGS, ModItems.NETHERITE_LEGGINGS);
		netheriteMap.put(Items.DIAMOND_BOOTS, ModItems.NETHERITE_BOOTS);
		return netheriteMap;
		}

		public Item getSmithingItem() {
		return smithingItem;
		}

		public static Map<Item, Item> getSwitchMap() {
		return switchMap;
		}

		public static String getCustomName() {
		return customName;
		}

		public static Item getCustomSmithingItem() {
		return customSmithingItem;
		}

		public static Map<String, SmithingType> getNameMap() {
		return nameMap;
		}
		}
		}
	</p>
</div>
</body>
</html>
